(function() {  "use strict";

  /**
   * WooCommerce Local Pickup Plus admin orders scripts.
   *
   * @since 2.0.0
   */
  jQuery(document).ready(function($) {
    var $orderShippingItems, ref, wc_local_pickup_plus_admin;
    wc_local_pickup_plus_admin = (ref = window.wc_local_pickup_plus_admin) != null ? ref : {};
    $orderShippingItems = $('tbody#order_shipping_line_items');
    return $orderShippingItems.on('change', function(e) {
      return $(this).find('> tr').each(function() {
        var $chosenShippingMethod, $newOrderPickupDataEl, newOrderPickupDataHTML, newOrderPickupDataID, orderShippingItemID;
        orderShippingItemID = $(this).data('order_item_id');
        $chosenShippingMethod = $(this).find('select.shipping_method');
        newOrderPickupDataID = 'wc-local-pickup-plus-add-new-order-pickup-data-' + orderShippingItemID;
        $newOrderPickupDataEl = $(this).find('#wc-local-pickup-plus-add-new-order-pickup-data-' + orderShippingItemID);
        newOrderPickupDataHTML = '<div id="' + newOrderPickupDataID + '"><strong>' + wc_local_pickup_plus_admin.i18n.add_new_order_pickup_data + '</strong></div>';
        if ($chosenShippingMethod && $chosenShippingMethod.val() === wc_local_pickup_plus_admin.shipping_method_id) {
          if ($newOrderPickupDataEl.length > 0) {
            return $newOrderPickupDataEl.show();
          } else {
            return $chosenShippingMethod.after(newOrderPickupDataHTML);
          }
        } else {
          if ($newOrderPickupDataEl.length > 0) {
            return $newOrderPickupDataEl.hide();
          }
        }
      });
    });
  });

}).call(this);


