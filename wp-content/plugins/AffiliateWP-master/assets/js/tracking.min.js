jQuery(document).ready(function(a){function i(a){var i=new RegExp(a+"=([^;]+)").exec(document.cookie);return null!=i&&unescape(i[1])}function e(){return{ajax_url:affwp_scripts.ajaxurl.length?JSON.stringify(affwp_scripts.ajaxurl):"unavailable",ref:JSON.stringify(AFFWP.referral_var?AFFWP.referral_var:i("affwp_ref")),visit_cookie:i("affwp_ref_visit_id")?JSON.stringify(i("affwp_ref_visit_id")):"unavailable",credit_last:AFFWP.referral_credit_last?JSON.stringify(AFFWP.referral_credit_last):"unavailable",campaign:JSON.stringify(n().campaign?n().campaign:i("affwp_campaign")),currency:affwp_debug_vars.currency.length?JSON.stringify(affwp_debug_vars.currency):"unavailable",version:affwp_debug_vars.version.length?JSON.stringify(affwp_debug_vars.version):"unavailable"}}function f(){return"undefined"!=typeof affwp_debug_vars&&affwp_debug_vars.integrations}function r(i,e){a.cookie("affwp_ref",i,{expires:AFFWP.expiration,path:"/"}),a.ajax({type:"POST",data:{action:"affwp_track_visit",affiliate:i,campaign:e,url:document.URL,referrer:document.referrer},url:affwp_scripts.ajaxurl,success:function(i){a.cookie("affwp_ref_visit_id",i,{expires:AFFWP.expiration,path:"/"}),a.cookie("affwp_campaign",e,{expires:AFFWP.expiration,path:"/"})}}).fail(function(a){window.console&&window.console.log&&console.log(a)})}function n(){for(var a,i=[],e=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),f=0;f<e.length;f++){a=e[f].split("="),i.push(a[0]);var r=void 0===a[1]?0:1,n=a[r].indexOf("#");a[r]=a[r].substring(0,-1!=n?n:a[r].length),i[a[0]]=a[r]}return i}var o=a.cookie("affwp_ref"),t=(a.cookie("affwp_ref_visit_id"),a.cookie("affwp_campaign"),AFFWP.referral_credit_last);if(1===AFFWP.debug){var l=["background: transparent","border-bottom: 2px solid #E34F43","color: black","display: block","line-height: 18px","text-align: left","margin: 4px","font-weight: bold"].join(";");console.affwp=function(){Array.prototype.unshift.call(arguments,"%c * AffiliateWP: ",l+" *"),console.log.apply(console,arguments)},function(){console.affwp("The following data is provided from AffiliateWP debug mode. To disable this information, please deactivate debug mode in AffiliateWP."),console.affwp("Available debug data: \n"+JSON.stringify(Object(e()))),console.affwp("Integrations\n"+JSON.stringify(Object(f())))}()}if("1"==t||!o){var c=n()[AFFWP.referral_var],s=n().campaign;if(void 0===c||a.isFunction(c)){var p=window.location.pathname.split("/");a.each(p,function(a,i){AFFWP.referral_var==i&&(c=p[a+1])})}a.isFunction(c)||(void 0===c||a.isNumeric(c)?c&&!o?r(c,s):"1"==t&&c&&o&&c!==o&&(a.removeCookie("affwp_ref"),r(c,s)):a.ajax({type:"POST",data:{action:"affwp_get_affiliate_id",affiliate:c},url:affwp_scripts.ajaxurl,success:function(i){"1"==i.data.success&&("1"==t&&o&&o!=i.data.affiliate_id&&a.removeCookie("affwp_ref"),("1"==t&&o&&o!=i.data.affiliate_id||!o)&&r(i.data.affiliate_id,s))}}).fail(function(a){window.console&&window.console.log&&console.log(a)}))}});